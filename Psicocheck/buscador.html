<!doctype html>
<html lang="es-MX">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PsicoCheck — Busca</title>
  <link rel="stylesheet" href="styles.css">
  <script defer src="i18n.js"></script>
  <script defer src="data.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
<header class="header">  <div class="container">    <div class="nav">      <a href="index.html" class="brand" aria-label="PsicoCheck">        <img src="assets/logo.svg" alt="logo"/><span data-i18n="brand">PsicoCheck</span>      </a>      <nav id="menu" class="menu" aria-label="Main navigation">        <a href="index.html" data-active class="" data-i18n="menu.home">Inicio</a>        <a href="quienes.html" data-active class="" data-i18n="menu.about">Quiénes somos</a>        <a href="buscador.html" data-active class="active" data-i18n="menu.search">Busca a tu psicólogo</a>        <a href="directorio.html" data-active class="" data-i18n="menu.directory">Directorio verificado</a>        <a href="guia.html" data-active class="" data-i18n="menu.guide">Guía para pacientes</a>        <a href="recursos.html" data-active class="" data-i18n="menu.resources">Recursos</a>        <a href="contacto.html" data-active class="" data-i18n="menu.contact">Contacto</a>      </nav>      <div class="flex gap-2">        <button class="btn" onclick="PC.toggleLang()">ES/EN</button>        <button class="btn" onclick="PC.toggleTheme()">☾/☀</button>        <a href="reporta.html" class="btn-primary" data-i18n="menu.report">Reporta</a>        <button id="btn-menu" class="hamburger btn" aria-label="Abrir menú">☰</button>      </div>    </div>  </div></header>
<main class="section">
  <div class="container">
    <h1 data-i18n="ctaSearch">Busca a tu psicólogo/psicóloga</h1>
    <div class="grid grid-3" style="margin-top:1rem">
      <input id="q-name" class="input" data-i18n-ph="searchHint" placeholder="Nombre">
      <input id="q-city" class="input" placeholder="Ciudad/Estado">
      <input id="q-license" class="input" placeholder="Cédula">
    </div>
    <div class="grid" style="grid-template-columns:auto auto; gap:.7rem; margin-top:1rem">
      <button id="btn-search" class="btn">Buscar</button>
      <button id="btn-clear" class="btn">Limpiar</button>
    </div>
    <div id="results" class="grid grid-3" style="margin-top:1rem"></div>
  </div>
</main>
<script>
  const results = document.getElementById('results');
  function gradeColor(g){ if(g==='A+'||g==='A') return 'ok'; if(g==='B') return 'ok'; if(g==='C'||g==='D') return 'warn'; return 'bad'; }
  function card(p){ return `<div class="card card-pro">
    <img src="${p.photo}" alt="Foto de ${p.name}" loading="lazy">
    <div class="meta" style="margin-top:.6rem">
      <div><div style="font-weight:800">${p.name}</div><div class="small">${p.city}</div></div>
      <span class="badge ${gradeColor(p.grade)}">${p.grade}</span>
    </div>
    <div class="small">Cédula: ${p.license||'—'}</div>
    <div class="small">Modalidad: ${p.modality||'—'}</div>
  </div>`; }
  function render(list){ results.innerHTML = list.length ? list.map(card).join('') : '<div class="small">Sin resultados</div>'; }
  function search(){ const n = document.getElementById('q-name').value.trim().toLowerCase();
    const c = document.getElementById('q-city').value.trim().toLowerCase();
    const l = document.getElementById('q-license').value.trim().toLowerCase();
    const res = PROS.filter(p => (!n || p.name.toLowerCase().includes(n)) && (!c || p.city.toLowerCase().includes(c)) && (!l || (p.license||'').toLowerCase().includes(l)) );
    render(res);
  }
  document.getElementById('btn-search').addEventListener('click', search);
  document.getElementById('btn-clear').addEventListener('click', ()=>{ ['q-name','q-city','q-license'].forEach(id=>document.getElementById(id).value=''); render([]); });
  render([]);
</script>

<footer class="footer">
  <div class="container section">
    <div class="grid grid-3">
      <div>
        <h3 class="prose" data-i18n="brand">PsicoCheck</h3>
        <p class="small prose" data-i18n="legal">Este sitio es informativo; no brinda asesoría médica ni legal y no sustituye la atención profesional. Para emergencias llama al 911 o a la Línea de la Vida (800 911 2000).</p>
      </div>
      <div>
        <h4>Menú</h4>
        <nav class="small grid">
          <a href="quienes.html" data-i18n="menu.about">Quiénes somos</a>
          <a href="buscador.html" data-i18n="menu.search">Busca</a>
          <a href="directorio.html" data-i18n="menu.directory">Directorio</a>
          <a href="recursos.html" data-i18n="menu.resources">Recursos</a>
        </nav>
      </div>
      <div>
        <h4>Legal</h4>
        <div class="small grid">
          <a href="#">Aviso de Privacidad</a>
          <a href="#">Términos de Uso</a>
          <a href="#">Política editorial y correcciones</a>
        </div>
      </div>
    </div>
    <div class="small" style="margin-top:1rem">© <span id="year"></span> PsicoCheck</div>
  </div>
</footer>
<script>document.getElementById('year').textContent=new Date().getFullYear()</script>

</body>
</html>
